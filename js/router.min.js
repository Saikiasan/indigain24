class Router{constructor(){this.defaultView="home",this.rootElement=document.getElementById("root"),this.loadView()}loadView(){const e=new URLSearchParams(window.location.search).get("view")||this.defaultView;this.loadViewFromFile(e),this.setPageTitle(e)}setPageTitle(e){const t=e;document.title=t.toUpperCase()}async loadViewFromFile(e){try{const t=await fetch(`pages/${e}.html`);if(t.ok){const e=await t.text();this.renderView(e),this.executeScripts(e)}else this.renderView(' <div class="container-fluid vh-100 d-flex justify-content-center align-items-center"> <div class="text-center"> <h1>404</h1> <h4 class="fw-normal">Requested page not available</h4> <p>Go back, or refresh this page if this seems like a mistake</p> </div> </div> ')}catch(e){this.renderView("<h1>Error</h1><p>There was an error loading the content.</p>")}}executeScripts(e){const t=document.createElement("div");t.innerHTML=e;t.querySelectorAll("script").forEach((e=>{const t=document.createElement("script");e.src?t.src=e.src:t.textContent=e.textContent,document.body.appendChild(t)}))}renderView(e){this.rootElement.innerHTML=e}}document.addEventListener("DOMContentLoaded",(()=>{new Router}));